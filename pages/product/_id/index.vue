<template>
    <div class="Product">
        <Navbar class="navbar" />
        <div class="product-item" v-bind:key="product.id" v-for="product in products">
            <div v-if="$route.params.id == product.id">
                <Carousel :perPage=1>
                    <Slide :key="image.img" v-for="image in product.imgs">
                        <img v-bind:src="image.src">
                    </Slide>
                </Carousel>
                <div class="info-container">
                    <h1>{{product.title}}</h1>
                </div>
                <button @click="$store.commit('addToCart', $route.params.id)">ADD TO CART</button>
            </div>
        </div>
    </div>
</template> 

<script>
import Navbar from '../../../components/Navbar.vue'
import { Carousel, Slide } from 'vue-carousel'

export default {
    name: 'Product',
    props: ['product'],
    components: {
        Navbar,
        Carousel,
        Slide
    },
    head() {
      return {
        title: "DARK-LAB 2037+"
      }
    },
    data() {
        return {
            title: "product",
            products: this.$store.state.products
        }
    }
}
</script>

<style scoped lang="sass">
.product-item 
    padding: 3vh

carousel
    display: block
    height: auto
    width: auto
    max-height: 40vh
    margin-left: auto
    margin-right: auto

.soldOut *
    text-decoration: line-through

button 
    color: white
    width: 35vh
    height: 3em
    background-color: #ff0000
    display: inline-block
    padding: 0.35em 1.2em
    margin: 1em 0.3em 0.3em 0
    border-radius: 0.12em
    font-weight: 300
    transition: color 0.8s

    &:active
        color:#000000
        background-color:#FFFFFF

.info-container 
    display: flex
    flex-direction: column
    margin-left: auto
    margin-right: auto
    max-width: 40vh
    
    * 
        margin-bottom: 10px

@media screen and (max-width: 375px)
    img
        width: 100%
</style>
